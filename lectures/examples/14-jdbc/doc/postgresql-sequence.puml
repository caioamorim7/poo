@startuml
title Fluxo de Consulta JDBC

actor Usuario
participant "Aplicação Java" as App
participant "DriverManager" as DM
participant "Connection" as Conn
participant "Statement" as Stmt
database "PostgreSQL" as PG
participant "ResultSet" as RS

Usuario -> App : Solicita dados
App -> App : Ler db.properties\n(URL, usuário, senha)
App -> DM : getConnection(url, user, password)
DM --> App : Connection (Conn)

App -> Conn : createStatement()
Conn --> App : Statement (Stmt)

App -> Stmt : executeQuery(SQL)
Stmt -> PG : Executa comando SQL
PG --> Stmt : Registros
Stmt --> App : ResultSet (RS)

App -> RS : next()\ngetXXX(...)
RS --> App : Dados processados

App -> RS : close()
App -> Stmt : close()
App -> Conn : close()
App -> Usuario : Exibe resultados

@enduml
